!function(t){function e(t){this._init(t),this._do()}e.prototype={_init:function(t){this.el=t&&t.el||"main",this.rootArea=document.getElementById(this.el)||document.body,this.level=t&&t.level&&t.level>1&&t.level<7||3,this.tocDataArr=[],this.newTocData={},this.levelBoolean=["H2","H3","H4","H5","H6"],this.levelCount=[0,0,0,0,0],this.levelBoolean=this.levelBoolean.slice(0,this.level-1),this.tocLiHtmls="",this.newTocLiHtml=""},_createTocArr:function(){for(var t=0;t<this.rootArea.children.length;t++)for(var e=this.rootArea.children[t].tagName,i=0;i<this.levelBoolean.length;i++)if(this.levelBoolean[i]===e){var a=this;this.newTocData={className:"mdh"+(i+2),serialNum:function(t){return t.levelCount[i]++,t.levelCount.splice(i+1,t.levelCount.length-i-1,0,0,0,0,0),t.levelCount.slice(0,i+1).join(".")}(a),targetId:"mdTocNav"+this.newTocData.serialNum,text:this.rootArea.children[t].innerText},this.tocDataArr.push(this.newTocData),this.rootArea.children[t].id+=(this.rootArea.children[t].id?" ":"")+this.newTocData.targetId}},_createNav:function(){for(var t=0;t<this.tocDataArr.length;t++)this.newTocLiHtml='<li class="'+this.tocDataArr[t].className+'"><a href="#'+this.tocDataArr[t].targetId+'"><span class="nav-number">'+this.tocDataArr[t].serialNum+'</span><span class="nav-text">'+this.tocDataArr[t].text+"</span></a></li>",this.tocLiHtmls+=this.newTocLiHtml;var e=document.createElement("ol");e.setAttribute("id","mdTocNav"),e.innerHTML=this.tocLiHtmls,document.body.appendChild(e)},_do:function(){this._createTocArr(),this._createNav()}},t.MdTOCNav=e}(window);